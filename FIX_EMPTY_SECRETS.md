# ğŸ”§ è§£å†³Secretså€¼ä¸ºç©ºçš„é—®é¢˜

## ğŸ“‹ é—®é¢˜æè¿°

æ‚¨å‘ç°æ¯æ¬¡æ›´æ–°æ—¶ï¼ŒSecretsçš„å€¼éƒ½æ˜¯ç©ºçš„ã€‚è¿™å¯èƒ½å¯¼è‡´æŒ‡æ ‡æ˜¾ç¤ºä¸º0ï¼Œå³ä½¿æ‚¨å·²ç»åœ¨GitHub Secretsä¸­è®¾ç½®äº†æ­£ç¡®çš„å€¼ã€‚

---

## ğŸ” å¯èƒ½çš„åŸå› 

### åŸå› 1ï¼šSecretçš„å€¼ç¡®å®æ˜¯ç©ºçš„

**æœ€å¸¸è§çš„åŸå› **ï¼šè™½ç„¶Secretå·²åˆ›å»ºï¼Œä½†Valueå­—æ®µå¯èƒ½æ˜¯ç©ºå­—ç¬¦ä¸²ã€‚

**æ£€æŸ¥æ–¹æ³•**ï¼š
1. è¿›å…¥ Settings > Secrets and variables > Actions
2. ç‚¹å‡»Secretåç§°å³ä¾§çš„ **âœï¸ï¼ˆç¼–è¾‘ï¼‰** å›¾æ ‡
3. æŸ¥çœ‹Valueå­—æ®µ
4. å¦‚æœValueå­—æ®µæ˜¯ç©ºçš„ï¼Œè¿™å°±æ˜¯é—®é¢˜æ‰€åœ¨

### åŸå› 2ï¼šSecretçš„å€¼åŒ…å«ç©ºæ ¼æˆ–ç‰¹æ®Šå­—ç¬¦

Secretçš„å€¼å¯èƒ½åŒ…å«å‰å¯¼/å°¾éšç©ºæ ¼ï¼Œå¯¼è‡´è„šæœ¬æ— æ³•æ­£ç¡®è§£æã€‚

### åŸå› 3ï¼šå·¥ä½œæµæ²¡æœ‰æ­£ç¡®ä¼ é€’ç¯å¢ƒå˜é‡

è™½ç„¶å·¥ä½œæµé…ç½®çœ‹èµ·æ¥æ­£ç¡®ï¼Œä½†å¯èƒ½åœ¨æŸäº›æƒ…å†µä¸‹ç¯å¢ƒå˜é‡æ²¡æœ‰è¢«æ­£ç¡®ä¼ é€’ã€‚

### åŸå› 4ï¼šè„šæœ¬æ²¡æœ‰æ­£ç¡®è¯»å–ç¯å¢ƒå˜é‡

è„šæœ¬å¯èƒ½åœ¨æ£€æŸ¥ç¯å¢ƒå˜é‡æ—¶é€»è¾‘æœ‰é—®é¢˜ã€‚

---

## âœ… è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ1ï¼šæ£€æŸ¥å¹¶ä¿®å¤Secretçš„å€¼ï¼ˆæœ€é‡è¦ï¼‰

1. **è¿›å…¥GitHubä»“åº“è®¾ç½®**ï¼š
   - è®¿é—® `https://github.com/NingWangDMU/NingWangDMU`
   - ç‚¹å‡» **Settings** > **Secrets and variables** > **Actions**

2. **æ£€æŸ¥æ¯ä¸ªSecretçš„å€¼**ï¼š
   - ç‚¹å‡» `INT_JOURNAL_COUNT` å³ä¾§çš„ **âœï¸ï¼ˆç¼–è¾‘ï¼‰** å›¾æ ‡
   - **ä»”ç»†æ£€æŸ¥Valueå­—æ®µ**ï¼š
     - å¦‚æœValueå­—æ®µæ˜¯**ç©ºçš„**ï¼Œè¿™å°±æ˜¯é—®é¢˜ï¼
     - å¦‚æœValueå­—æ®µæœ‰å€¼ï¼Œç¡®è®¤å€¼æ˜¯æ­£ç¡®çš„æ•°å­—ï¼ˆä¾‹å¦‚ï¼š`150`ï¼Œä¸æ˜¯`"150"`æˆ–`150 `ï¼‰

3. **ä¿®å¤ç©ºå€¼**ï¼š
   - å¦‚æœValueæ˜¯ç©ºçš„ï¼Œè¾“å…¥æ­£ç¡®çš„æ•°å€¼
   - **é‡è¦**ï¼šåªè¾“å…¥æ•°å­—ï¼Œä¸è¦åŒ…å«å¼•å·ã€ç©ºæ ¼æˆ–å…¶ä»–å­—ç¬¦
   - ä¾‹å¦‚ï¼šè¾“å…¥ `150`ï¼Œè€Œä¸æ˜¯ `"150"` æˆ– ` 150 ` æˆ– `150\n`

4. **ä¿å­˜æ›´æ”¹**ï¼š
   - ç‚¹å‡» **Update secret**
   - é‡å¤æ­¤æ­¥éª¤ï¼Œæ£€æŸ¥å¹¶ä¿®å¤æ‰€æœ‰ä¸‰ä¸ªSecretsï¼š
     - `INT_JOURNAL_COUNT`
     - `INT_CONF_COUNT`
     - `BOOK_COUNT`

### æ–¹æ¡ˆ2ï¼šé‡æ–°åˆ›å»ºSecretsï¼ˆå¦‚æœå€¼æ— æ³•ä¿®æ”¹ï¼‰

å¦‚æœç¼–è¾‘Secretæ—¶æ— æ³•ä¿®æ”¹å€¼ï¼Œå¯ä»¥åˆ é™¤å¹¶é‡æ–°åˆ›å»ºï¼š

1. **åˆ é™¤æ—§çš„Secret**ï¼š
   - ç‚¹å‡»Secretåç§°å³ä¾§çš„ **ğŸ—‘ï¸ï¼ˆåˆ é™¤ï¼‰** å›¾æ ‡
   - ç¡®è®¤åˆ é™¤

2. **åˆ›å»ºæ–°çš„Secret**ï¼š
   - ç‚¹å‡» **New repository secret**
   - Name: `INT_JOURNAL_COUNT`
   - Secret: è¾“å…¥æ‚¨çš„å®é™…æ•°å€¼ï¼ˆä¾‹å¦‚ï¼š`150`ï¼‰
   - ç‚¹å‡» **Add secret**
   - é‡å¤æ­¤æ­¥éª¤ï¼Œåˆ›å»ºå…¶ä»–Secrets

### æ–¹æ¡ˆ3ï¼šä½¿ç”¨æ”¹è¿›åçš„è„šæœ¬ï¼ˆå·²æ›´æ–°ï¼‰

æˆ‘å·²ç»æ”¹è¿›äº†è„šæœ¬å’Œå·¥ä½œæµï¼Œæ·»åŠ äº†ï¼š

1. **æ›´è¯¦ç»†çš„è¯Šæ–­ä¿¡æ¯**ï¼š
   - æ˜¾ç¤ºæ¯ä¸ªç¯å¢ƒå˜é‡çš„çŠ¶æ€ï¼ˆSet/Not setï¼‰
   - æ˜¾ç¤ºç¯å¢ƒå˜é‡çš„å€¼ï¼ˆå¯¹äºè®¡æ•°ç±»æŒ‡æ ‡ï¼‰
   - æ˜¾ç¤ºç¯å¢ƒå˜é‡æ˜¯å¦ä¸ºç©º

2. **æ›´å¥½çš„é”™è¯¯å¤„ç†**ï¼š
   - æ£€æŸ¥ç©ºå­—ç¬¦ä¸²
   - å»é™¤å‰å¯¼/å°¾éšç©ºæ ¼
   - æä¾›æ¸…æ™°çš„é”™è¯¯æç¤º

3. **æ”¹è¿›çš„ç¯å¢ƒå˜é‡æ£€æŸ¥**ï¼š
   - åœ¨å·¥ä½œæµä¸­æ·»åŠ äº†ç¯å¢ƒå˜é‡éªŒè¯
   - åœ¨è„šæœ¬ä¸­æ·»åŠ äº†è¯¦ç»†çš„è¯Šæ–­è¾“å‡º

---

## ğŸ” è¯Šæ–­æ­¥éª¤

### æ­¥éª¤1ï¼šæŸ¥çœ‹GitHub Actionsæ—¥å¿—

1. **è¿›å…¥Actionsé¡µé¢**ï¼š
   - åœ¨GitHubä»“åº“é¡µé¢ï¼Œç‚¹å‡» **Actions** æ ‡ç­¾

2. **æŸ¥çœ‹æœ€æ–°è¿è¡Œè®°å½•**ï¼š
   - ç‚¹å‡»æœ€æ–°çš„ **"Update Publication Metrics"** è¿è¡Œè®°å½•
   - å±•å¼€ **"Run update script"** æ­¥éª¤

3. **æŸ¥æ‰¾ç¯å¢ƒå˜é‡æ£€æŸ¥ä¿¡æ¯**ï¼š

   **å¦‚æœçœ‹åˆ°**ï¼š
   ```
   ğŸ” Checking environment variables...
   INT_JOURNAL_COUNT: Set (value: 150)
   INT_CONF_COUNT: Set (value: 30)
   BOOK_COUNT: Set (value: 5)
   ```
   â†’ è¯´æ˜ç¯å¢ƒå˜é‡è¢«æ­£ç¡®ä¼ é€’

   **å¦‚æœçœ‹åˆ°**ï¼š
   ```
   âš  Warning: INT_JOURNAL_COUNT is empty or not set
   ```
   â†’ è¯´æ˜Secretçš„å€¼æ˜¯ç©ºçš„ï¼Œéœ€è¦ä¿®å¤

   **å¦‚æœçœ‹åˆ°**ï¼š
   ```
   ğŸ” Loading from environment variables: INT_JOURNAL_COUNT, INT_CONF_COUNT, BOOK_COUNT
     âŒ INT_JOURNAL_COUNT: Empty string (Secret may be empty)
   ```
   â†’ è¯´æ˜Secretçš„å€¼æ˜¯ç©ºå­—ç¬¦ä¸²ï¼Œéœ€è¦ä¿®å¤

### æ­¥éª¤2ï¼šæ£€æŸ¥Secretçš„å€¼

1. **è¿›å…¥Settings**ï¼š
   - Settings > Secrets and variables > Actions

2. **æ£€æŸ¥æ¯ä¸ªSecret**ï¼š
   - ç‚¹å‡»ç¼–è¾‘å›¾æ ‡
   - ç¡®è®¤Valueå­—æ®µä¸æ˜¯ç©ºçš„
   - ç¡®è®¤å€¼æ˜¯æ­£ç¡®çš„æ•°å­—æ ¼å¼

---

## ğŸ¯ å¿«é€Ÿä¿®å¤æ­¥éª¤

### å¦‚æœSecretçš„å€¼æ˜¯ç©ºçš„ï¼š

1. **ä¿®æ”¹Secretçš„å€¼**ï¼ˆ5åˆ†é’Ÿï¼‰ï¼š
   - è¿›å…¥ Settings > Secrets and variables > Actions
   - ç‚¹å‡» `INT_JOURNAL_COUNT` çš„ç¼–è¾‘å›¾æ ‡
   - åœ¨Valueå­—æ®µä¸­è¾“å…¥æ‚¨çš„å®é™…æ•°å€¼ï¼ˆä¾‹å¦‚ï¼š`150`ï¼‰
   - **é‡è¦**ï¼šç¡®ä¿Valueå­—æ®µä¸æ˜¯ç©ºçš„
   - ç‚¹å‡» **Update secret**
   - é‡å¤æ­¤æ­¥éª¤ï¼Œä¿®å¤ `INT_CONF_COUNT` å’Œ `BOOK_COUNT`

2. **æäº¤æ›´æ–°çš„ä»£ç **ï¼ˆå¦‚æœè¿˜æœªæäº¤ï¼‰ï¼š
   - åœ¨GitHub Desktopä¸­æäº¤æ›´æ–°çš„ä»£ç 
   - æ¨é€åˆ°GitHub

3. **é‡æ–°è¿è¡Œå·¥ä½œæµ**ï¼ˆ1åˆ†é’Ÿï¼‰ï¼š
   - Actions > Update Publication Metrics > Run workflow

4. **éªŒè¯ç»“æœ**ï¼š
   - æŸ¥çœ‹æ—¥å¿—ï¼Œç¡®è®¤ç¯å¢ƒå˜é‡è¢«æ­£ç¡®è¯»å–
   - æ£€æŸ¥README.mdï¼Œç¡®è®¤æŒ‡æ ‡å·²æ›´æ–°

---

## ğŸ“Š æ­£ç¡®çš„Secretå€¼æ ¼å¼

### âœ… æ­£ç¡®æ ¼å¼

- `INT_JOURNAL_COUNT`: `150`ï¼ˆçº¯æ•°å­—ï¼Œæ— å¼•å·ï¼Œæ— ç©ºæ ¼ï¼‰
- `INT_CONF_COUNT`: `30`ï¼ˆçº¯æ•°å­—ï¼Œæ— å¼•å·ï¼Œæ— ç©ºæ ¼ï¼‰
- `BOOK_COUNT`: `5`ï¼ˆçº¯æ•°å­—ï¼Œæ— å¼•å·ï¼Œæ— ç©ºæ ¼ï¼‰

### âŒ é”™è¯¯æ ¼å¼

- `"150"`ï¼ˆåŒ…å«å¼•å·ï¼‰
- ` 150 `ï¼ˆåŒ…å«ç©ºæ ¼ï¼‰
- ``ï¼ˆç©ºå­—ç¬¦ä¸²ï¼‰
- `150\n`ï¼ˆåŒ…å«æ¢è¡Œç¬¦ï¼‰

---

## ğŸ”§ é¢„é˜²æªæ–½

1. **åˆ›å»ºSecretæ—¶ä»”ç»†æ£€æŸ¥**ï¼š
   - ç¡®ä¿Valueå­—æ®µä¸æ˜¯ç©ºçš„
   - åªè¾“å…¥æ•°å­—ï¼Œä¸è¦åŒ…å«å…¶ä»–å­—ç¬¦

2. **å®šæœŸæ£€æŸ¥Secretçš„å€¼**ï¼š
   - å®šæœŸæŸ¥çœ‹GitHub Actionsæ—¥å¿—
   - ç¡®è®¤ç¯å¢ƒå˜é‡è¢«æ­£ç¡®ä½¿ç”¨

3. **ä½¿ç”¨æ”¹è¿›åçš„è„šæœ¬**ï¼š
   - æäº¤æ›´æ–°çš„ä»£ç 
   - è„šæœ¬ä¼šæä¾›æ›´è¯¦ç»†çš„è¯Šæ–­ä¿¡æ¯

---

## âœ… å®Œæˆæ£€æŸ¥æ¸…å•

ä¿®å¤å®Œæˆåï¼Œç¡®è®¤ï¼š

- [ ] æ‰€æœ‰Secretsçš„Valueå­—æ®µéƒ½ä¸æ˜¯ç©ºçš„
- [ ] Secretçš„å€¼æ˜¯æ­£ç¡®çš„æ•°å­—æ ¼å¼ï¼ˆæ— å¼•å·ã€æ— ç©ºæ ¼ï¼‰
- [ ] å·¥ä½œæµæ—¥å¿—æ˜¾ç¤º "Set (value: XXX)"
- [ ] è„šæœ¬æ—¥å¿—æ˜¾ç¤º "âœ“ Loaded XXX from environment: XXX"
- [ ] README.mdä¸­çš„æŒ‡æ ‡æ˜¾ç¤ºå®é™…æ•°å€¼ï¼ˆä¸æ˜¯0ï¼‰

å¦‚æœæ‰€æœ‰é¡¹ç›®éƒ½å·²å‹¾é€‰ï¼Œé—®é¢˜å·²è§£å†³ï¼ğŸ‰

---

## ğŸ†˜ ä»ç„¶æ— æ³•è§£å†³ï¼Ÿ

å¦‚æœæŒ‰ç…§ä»¥ä¸Šæ­¥éª¤æ“ä½œåï¼Œé—®é¢˜ä»ç„¶å­˜åœ¨ï¼š

1. **æŸ¥çœ‹å®Œæ•´æ—¥å¿—**ï¼š
   - åœ¨GitHub Actionsä¸­æŸ¥çœ‹è¯¦ç»†çš„æ—¥å¿—è¾“å‡º
   - ç‰¹åˆ«å…³æ³¨ç¯å¢ƒå˜é‡æ£€æŸ¥éƒ¨åˆ†

2. **å°è¯•é‡æ–°åˆ›å»ºSecrets**ï¼š
   - åˆ é™¤æ—§çš„Secrets
   - é‡æ–°åˆ›å»ºï¼Œç¡®ä¿å€¼ä¸æ˜¯ç©ºçš„

3. **æ£€æŸ¥å·¥ä½œæµæƒé™**ï¼š
   - Settings > Actions > General > Workflow permissions
   - ç¡®ä¿è®¾ç½®ä¸º "Read and write permissions"

4. **è”ç³»æ”¯æŒ**ï¼š
   - æä¾›GitHub Actionsçš„å®Œæ•´æ—¥å¿—
   - è¯´æ˜æ‚¨å·²ç»æ£€æŸ¥äº†Secretçš„å€¼

